#!/bin/bash

DRIVER_PATH="/sys/bus/i2c/drivers/i2c_hid_acpi"
DEVICE_ID="i2c-ASUF1208:00"

# Check actual binding state via sysfs rather than a state file
if [ -e "$DRIVER_PATH/$DEVICE_ID" ]; then
    # Device is currently bound — disable it
    echo "$DEVICE_ID" | sudo tee "$DRIVER_PATH/unbind" > /dev/null
    notify-send "Touchpad" "Disabled"
else
    # Device is currently unbound — enable it
    echo "$DEVICE_ID" | sudo tee "$DRIVER_PATH/bind" > /dev/null
    notify-send "Touchpad" "Enabled"
fi
